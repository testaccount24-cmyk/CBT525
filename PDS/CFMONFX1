//* -------------------------------------------------
//*   CFMONFIX MEMBER LAST UPDATE: 04/07/2003
//*
//*   CORRECTS MANY S0C9 ABENDS DUE TO COUNTERS
//*   GOING NEGATIVE.  WHEN THE HIGH BIT OF THE
//*   ACCUMULATOR REGISTER ROLLS OVER TO X'80000000'
//*   THE DIVIDE ERROR OCCURS.  THESE FIXES DO NOT
//*   EXPAND THE COUNTER SIZE BUT RATHER PREVENT THE
//*   DIVIDE ERROR AND SKIP THE PROCESSING. THIS
//*   AFFECTS THE ACCURACY BUT IT USUALLY IS ONLY ON
//*   THE TOTAL COUNTS ACCUMULATER AND PERHAPS THE
//*   HIGHEST USED STRUCTURE (LIKE MAYBE A DB2 BUFFER
//*   POOL).
//*
//* -------------------------------------------------
//*  SYMPTOM:
//*   CORRECT ABEND S0C9 AT CFXCFTCF+F24
//FIX0C91 EXEC PGM=AMASPZAP
//SYSPRINT DD  SYSOUT=*
//SYSLIB   DD  DISP=SHR,DSN=____.CFMON.LOAD
//SYSIN    DD  *
NAME CFXCFTCF CFXCFTCF
VER 000EB4 1277                   LTR R7,R7
REP 000EB4 0700                   NOP
VER 000EC2 1277                   LTR R7,R7
REP 000EC2 0700                   NOP
VER 000F20 1B66,1D6A              SR R6,R6  DR R6,R10
REP 000F20 47F0,37E0              B PATCH
VER 0017E0 0000,0000
VER 0017E4 0000,0000
VER 0017E8 0000,0000
VER 0017EC 0000,0000
VER 0017F0 0000,0000
VER 0017F4 0000,0000
REP 0017E0 5570,37F4              CL R7,=XL4'7FFFFFFF'
REP 0017E4 4740,37EC              BL NEXT DO DIVIDE
REP 0017E8 47F0,2F50              B  BACK NO DIVIDE
REP 0017EC 1B66,1D6A              ORIG INSTRS
REP 0017F0 47F0,2F26              B BACK+4
REP 0017F4 7FFF,FFFF              XL4'7FFFFFFFF'
//*  SYMPTOM:
//*   CORRECT ABEND S0C9 AT CFXCFTCF+F24/+F2A
//FIX0C92 EXEC PGM=AMASPZAP,PARM=IGNIDRFULL
//SYSPRINT DD  SYSOUT=*
//SYSLIB   DD  DISP=SHR,DSN=____.CFMON.LOAD
//SYSIN    DD  *
NAME CFXCFTCF CFXCFTCF
VER 000F20 1B66,1D6A              SR R6,R6  DR R6,R10
REP 000F20 47F0,37E0              B PATCH
VER 0017D8 0000,0000
VER 0017DC 0000,0000
VER 0017E0 0000,0000
VER 0017E4 0000,0000
VER 0017E8 0000,0000
VER 0017EC 0000,0000
VER 0017F0 0000,0000
VER 0017F4 0000,0000
REP 0017D8 5570,37F4              CL R7,=XL4'7FFFFFFF'
REP 0017DC 4740,37E4              BL NEXTCHECK
REP 0017E0 47F0,2F50              B  BACK NO DIVIDE
REP 0017E4 5570,3828              CL R7,=F'64'
REP 0017E8 4740,2F50              BL BACK NO DIVIDE
REP 0017EC 1B66,1D6A              ORIG INSTRS
REP 0017F0 47F0,2F26              B BACK+4
REP 0017F4 7FFF,FFFF              XL4'7FFFFFFFF'
//*  SYMPTOM:
//*   CORRECT ABEND S0C9 AT CFXCFTCF+108C/+10B4
//FIX0C93 EXEC PGM=AMASPZAP
//SYSPRINT DD  SYSOUT=*
//SYSLIB   DD  DISP=SHR,DSN=USB6.LOAD
//*YSLIB   DD  DISP=SHR,DSN=____.CFMON.LOAD
//SYSIN    DD  *
NAME CFXCFTCF CFXCFTCF
VER 001088 1B66,1D6A
REP 001088 45E0,37F8              BAL R14,PATCH2
VER 0010B0 1B66,1D6A
REP 0010B0 45E0,37F8              BAL R14,PATCH2
VER 0017F8 0000,0000
VER 0017FC 0000,0000
VER 001800 0000,0000
VER 001804 0000,0000
VER 001808 0000,0000
VER 00180C 0000,0000
VER 001810 0000,0000              PATCH2 EQU *
REP 0017F8 5570,37F4              CL R7,=XL4'7FFFFFFF'
REP 0017FC 4740,3804              BL NEXTCHECK
REP 001800 47F0,315E              B  BACK NO DIVIDE
REP 001804 5570,3828              CL R7,=F'64'
REP 001808 4740,315E              BL BACK NO DIVIDE
REP 00180C 1B66,1D6A              ORIG INSTRS
REP 001810 07FE                   BR R14
//*  SYMPTOM:
//*   CORRECTS ABEND S0C9 AT CFXCFTCF+0594
//*   REQUIRES MODULE BE EXPANDED FOR ADDITIONAL PATCH AREA
//*   THIS LINK EDIT IS REQUIRED TO APPLY THE ZAP
// SET TARGET'____.CFMON.LOAD'
// SET SOURCE='____.CFMON.LOAD'
//EXPMOD   EXEC PGM=IEWL,
//       PARM='NCAL,LIST,LET,MAP,XREF,AMODE=31,RMODE=24'
//SYSPRINT DD  SYSOUT=*
//SYSLMOD  DD  DISP=SHR,DSN=&TARGET
//LOAD     DD  DISP=SHR,DSN=&SOURCE
//SYSLIN   DD  *
  INCLUDE LOAD(CFXCFTCF)
  EXPAND CFXCFTCF(1024)
  ENTRY  CFXCFTCF
  NAME CFXCFTCF(R)
//*
//FIX0C94 EXEC PGM=AMASPZAP
//SYSPRINT DD  SYSOUT=*
//SYSLIB   DD  DISP=SHR,DSN=____.CFMON.LOAD
//SYSIN    DD  *
NAME CFXCFSPF CFXCFSPF
VER 00004A F8F1,4BF1,4BF0,4000    =C'1.1.0'  VER/REL/MOD LEVEL
REP 00004A F8F1,4BF1,4BF5,4000    =C'1.1.5'
NAME CFXCFTCF CFXCFTCF
VER 000590 1B66,1D6A
REP 000590 45E0,3838              BAL R14,PATCH3838
VER 001838 0000,0000
VER 00183C 0000,0000
VER 001840 0000,0000
VER 001844 0000,0000
VER 001848 0000,0000
VER 00184C 0000,0000
VER 001850 0000,0000              PATCH3838 EQU *
REP 001838 5570,37F4              CL R7,=XL4'7FFFFFFF'
REP 00183C 4740,3844              BL *+8
REP 001840 47F0,25C6              B  A0005C6 (NO DIVIDE)
REP 001844 5570,3828              CL R7,=F'64'
REP 001848 4740,25C6              BL A0005C6
REP 00184C 1B66,1D6A              ORIG INSTRS
REP 001850 07FE                   BR R14
//
